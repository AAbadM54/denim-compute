



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>BAI scenario - Denim Compute - A Cloud Pak for Automation reference implementation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#bai-scenario-walkthrough" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Denim Compute - A Cloud Pak for Automation reference implementation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Denim Compute - A Cloud Pak for Automation reference implementation
            </span>
            <span class="md-header-nav__topic">
              
                BAI scenario
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ibm-cloud-architecture/denim-compute/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Denim Compute - A Cloud Pak for Automation reference implementation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Denim Compute - A Cloud Pak for Automation reference implementation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ibm-cloud-architecture/denim-compute/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Use case
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Use case
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../use-case-definition/" title="Use case definition" class="md-nav__link">
      Use case definition
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-2" type="checkbox" id="nav-2-2" checked>
    
    <label class="md-nav__link" for="nav-2-2">
      Scenario walkthroughs
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-2">
        Scenario walkthroughs
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../scenarios-intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../resources/denim-compute-scenario-walkthrough.pdf" title="Main scenario" class="md-nav__link">
      Main scenario
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../baca-scenario-walkthrough/" title="BACA scenario" class="md-nav__link">
      BACA scenario
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        BAI scenario
      </label>
    
    <a href="./" title="BAI scenario" class="md-nav__link md-nav__link--active">
      BAI scenario
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#business-automation-workflow" title="Business Automation Workflow" class="md-nav__link">
    Business Automation Workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#business-automation-insights" title="Business Automation Insights" class="md-nav__link">
    Business Automation Insights
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenario-installation" title="Scenario installation" class="md-nav__link">
    Scenario installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baw-application-installation" title="BAW application installation" class="md-nav__link">
    BAW application installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-kibana-saved-objects-installation" title="BAI Kibana saved objects installation" class="md-nav__link">
    BAI Kibana saved objects installation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Environment
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Environment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-1" type="checkbox" id="nav-3-1">
    
    <label class="md-nav__link" for="nav-3-1">
      OpenShift
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-1">
        OpenShift
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/rhos-intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/rhos-create-cluster/" title="Create OCP cluster" class="md-nav__link">
      Create OCP cluster
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/rhos-install-odm/" title="Installing ODM" class="md-nav__link">
      Installing ODM
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/rhos-install-baw/" title="Installing BAW" class="md-nav__link">
      Installing BAW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/rhos-install-baca/" title="Installing BACA" class="md-nav__link">
      Installing BACA
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/rhos-install-bai/" title="Installing BAI" class="md-nav__link">
      Installing BAI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../environment/rhos-install-cm/" title="Installing CM" class="md-nav__link">
      Installing CM
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Design
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Design
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../design/workflow/" title="Workflow" class="md-nav__link">
      Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../design/decisions/" title="Decisions" class="md-nav__link">
      Decisions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../design/insights/" title="Insights" class="md-nav__link">
      Insights
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../design/sundries/" title="Sundries" class="md-nav__link">
      Sundries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Workflow
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Workflow
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/workflow-intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/process-flow-control/" title="Process flow control" class="md-nav__link">
      Process flow control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/process-services/" title="Process services" class="md-nav__link">
      Process services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/process-user-interface/" title="Process user interface" class="md-nav__link">
      Process user interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/case-activities/" title="Case activities" class="md-nav__link">
      Case activities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/case-user-interface/" title="Case user interface" class="md-nav__link">
      Case user interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/bai-emulated-workflow/" title="Workflow for emulated BAI" class="md-nav__link">
      Workflow for emulated BAI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/decisions/" title="Decisions" class="md-nav__link">
      Decisions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/insights/" title="Insights" class="md-nav__link">
      Insights
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/capture/" title="Capture" class="md-nav__link">
      Capture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/sundries/" title="Sundries" class="md-nav__link">
      Sundries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Showtime
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Showtime
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../showtime/deploy-solution/" title="Deploy" class="md-nav__link">
      Deploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../showtime/run-solution/" title="Run" class="md-nav__link">
      Run
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../references/" title="References" class="md-nav__link">
      References
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#business-automation-workflow" title="Business Automation Workflow" class="md-nav__link">
    Business Automation Workflow
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#business-automation-insights" title="Business Automation Insights" class="md-nav__link">
    Business Automation Insights
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#scenario-installation" title="Scenario installation" class="md-nav__link">
    Scenario installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#prerequisites" title="Prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#baw-application-installation" title="BAW application installation" class="md-nav__link">
    BAW application installation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#bai-kibana-saved-objects-installation" title="BAI Kibana saved objects installation" class="md-nav__link">
    BAI Kibana saved objects installation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ibm-cloud-architecture/denim-compute/edit/master/docs/usecase/bai-scenario-walkthrough.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="bai-scenario-walkthrough">BAI scenario walkthrough</h1>
<p>Before proceeding with this scenario it is recommended you familiarise yourself with the <a href="../resources/denim-compute-scenario-walkthrough.pdf">main scenario</a>. That scenario shows the interactions for a "day in the life" of a Case instance of Auto Claims and while that sends data through for visualizing in Business Automation Insights (BAI), to fully appreciate the power of BAI you need to generate some realistic loads.</p>
<p>To that end, we have created a separate scenario that emulates the main scenario but without any real human interactions, so that it can execute many concurrent instances in batch and you can appreciate the value of BAI in a short amount of time. This emulation generates random data based on some configuration settings that are exposed for the end user to control as we shall see later in this document. </p>
<p>If you want to follow along with this scenario on your own environment, see the instructions for installing in the <a href="#scenario-installation">Scenario installation</a> section later in this document.</p>
<h2 id="business-automation-workflow">Business Automation Workflow</h2>
<p>The starting point is the Process Portal where any user can launch the <code>Denim Compute Auto Claims - Emulation Generator</code> workflow after which a work item <code>Set Emulation Controls</code> will appear to be actioned. 
<img alt="" src="../images/bai-scenario-walkthrough-baw1.png" /></p>
<p>The user interface coach is displayed allowing for configuring options to control the spread of emulated instances and how they then affect the business insights data that will be later viewed in BAI. We will explain these settings a little later.
<img alt="" src="../images/bai-scenario-walkthrough-baw2.png" /></p>
<p>If this is being run for the first time in a <code>IBM Cloud Pak for Automation</code> environment it is a good idea to first verify the process behaves as expected without creating a lot of workflow instances. To do this set the <code>Number of Claims</code> to something like 300 instances (this will exercise the emulation's batch control which submits workflow instances in minimum batches of 100) and then choose the <code>Test Emulation</code> button option.
<img alt="" src="../images/bai-scenario-walkthrough-baw3.png" /></p>
<p>This will exercise a path through the workflow that does everything except for instantiating the instances (the logic has a feature flag switch that treats it as in test mode and skips the message event which will spawn workflow instances). To verify the test you access the workflow instance in Process Inspector within the Process Admin Console as shown below.
<img alt="" src="../images/bai-scenario-walkthrough-baw4.png" /></p>
<p>As the test emulation progresses you will see data variables set including the batch of emulated Auto Claim business objects (one instance is expanded in the list below for illustration).<br />
<img alt="" src="../images/bai-scenario-walkthrough-baw5.png" /></p>
<p>The emulation workflow instances may take a few minutes to complete depending on the total number of claims that were specified as the logic organises the data into batches with a timed delay between them. When the emulation workflow instance has completed (which can be verified in Process Inspector) and we are satisfied it behaves as expected we can then relaunch the workflow and this time submit a real emulation run. Here in this first section we have set <code>Number of Claims</code> to 500 and the <code>Maximum Claim Amount</code> to 50000. (Please be aware that the more instances that are created here the more work for BAW operations team to clean up afterwards and purge the completed instances. Also the more instances requested the higher the relative load on the system so we recommend you exercise due care here and not unduly load a system that might have other business-critical workloads on it. If in doubt check with your operations team).
<img alt="" src="../images/bai-scenario-walkthrough-baw6.png" /></p>
<p>The next set of settings control the spread of paths through the <code>Auto Claims</code> workflow. Simple scenarios do not have any adjustment, fraud checking etc and so we set a relatively low figure for this. Next the <code>Percentage in Progress</code> setting controls the spread of items that have emulated delays in processing (so that later, in BAI Dashboards, you can see interactively how active instances behave and the changes that occur as they move through their lifecycles). <code>Percentage Potential Fraud</code> emulates the path in the workflow whereby the call out to ODM rules determines whether there is a potential fraud situation that needs investigating. The <code>Percentage Confirmed Fraud</code> setting then controls what percentage of those potential frauds have been determined to be actual frauds (the rest will end up as being cleared of fraud). 
<img alt="" src="../images/bai-scenario-walkthrough-baw7.png" /></p>
<p>The final section controls the time delays for each part of the workflow that is not straight-through processing (STP). Here in the settings 30 minutes delay is set for each so it will configure variable times up to that maximum, this should mean that all 500 instances will have completed in approximately 2 hours elapsed time.
<img alt="" src="../images/bai-scenario-walkthrough-baw8.png" /></p>
<p>We can visualize this in the BAW emulation workflow itself where the items color-coded green are STP and those in orange are the human interaction steps which matches how the main scenario behaves.
<img alt="" src="../images/bai-scenario-walkthrough-baw9.png" /></p>
<p>Once satisfied with the settings the request is submitted by clicking the <code>Run Emulation</code> button option.
<img alt="" src="../images/bai-scenario-walkthrough-baw10.png" /></p>
<p>After giving it a few minutes you should start to see the instances getting created and registering in Process Inspector, as shown here.
<img alt="" src="../images/bai-scenario-walkthrough-baw11.png" /></p>
<h2 id="business-automation-insights">Business Automation Insights</h2>
<p>When new tracking data fields are first encountered in BAI (in Elasticsearch) the index pattern that we want to use needs to be refreshed to pick up those field definitions. This is done from the <code>Kibana</code> console by clicking <code>Management</code> then <code>Index Patterns</code> and selecting the index pattern you are using, which in this scenario is the <code>process-s*</code> entry. Then click on the <code>Refresh</code> icon as highlighted below and confirm.
<img alt="" src="../images/bai-scenario-walkthrough-bai1.png" /></p>
<p>Next we want to confirm that the events have been received in BAI from BAW and we can see some of the process summaries. We do this by moving to the <code>Discover</code> section in <code>Kibana</code> and then select the <code>Search</code> named <code>Denim Compute - Auto Claims All Processes</code> (you can do this by choosing the <code>Open</code> option and then filtering and finding the target <code>Search</code> definition). The screenshot below shows a point in time view of this <code>Search</code> where it has retrieved 193 hits. Highlighted are the active <code>Filters</code> used to identify the process summaries of interest for our scenario.
<img alt="" src="../images/bai-scenario-walkthrough-bai2.png" /></p>
<p>Note if you are following along in your own environment and you do not see any hits, make sure you have followed the instructions in the <a href="#scenario-installation">Scenario installation</a> section of this document and in the <a href="../../environment/rhos-install-bai/">OpenShift BAI installation</a> section.</p>
<p>At this point, we are ready to start examining the configured Dashboards in Kibana. Here from the dashboard section we <code>Open</code> the one named <code>Denim Compute - Active Auto Claims</code> and there we see some visualizations have been configured and arranged on the dashboard. Additionally highlighted is a feature in Kibana where you can set the dashboard to <code>Auto Refresh</code> and set a frequency. You can then also pause and play if you want to halt the refreshes in order to examine something in detail. Also note that there is a breadcrumbs trail that allows for switching between the various dashboards that will be used for the scenario.
<img alt="" src="../images/bai-scenario-walkthrough-bai3.png" /></p>
<p>Scrolling down the page we can see some variations in types of visualization and the aggregated data that is displayed on them to highlight certain trends such as the influence of the <code>Weather Condition</code> on the estimate value of the claim. We also have a chart for tracking at what lifecycle stage various in-flight claims are (<code>Active Claims by Age and Status</code>).
<img alt="" src="../images/bai-scenario-walkthrough-bai4.png" /></p>
<p>As the <code>Active Claims by Age and Status</code> X-axis legend is hard to see with the restricted space you can maximise that visualization (from the contextual menu on it) to see it in more detail.
<img alt="" src="../images/bai-scenario-walkthrough-bai4-1.png" /></p>
<p>You can also use the contextual menu to inspect the underlying data for a visualization and even export it out in CSV format.
<img alt="" src="../images/bai-scenario-walkthrough-bai4-2.png" /></p>
<p>After returning back to the main dashboard view, at the bottom of the page are some data table types of visualization that shows the breakdown of claims by the <code>Vehicle Make</code> for both the <code>insured party</code> and the <code>third party</code> involved. 
<img alt="" src="../images/bai-scenario-walkthrough-bai5.png" /></p>
<p>Next we want to look at a different dashboard that focuses on completed instances, so do that by clicking the <code>Completed Auto Claims</code> breadcrumb link. This dashboard is named <code>Denim Compute - Completed Auto Claims</code> (note how it has a filter configured that checks that the <code>completedTime</code> exists). In this dashboard we can now show <code>Claim Settlement</code> figures and compare them to the <code>Damage Estimates</code>.
<img alt="" src="../images/bai-scenario-walkthrough-bai6.png" /></p>
<p>Similar to the previous dashboard, this one uses various <code>Visualizations</code> but this time it focuses on the aggregation of <code>Claim Settlement</code> figures against various dimensions. Also notice that there is a <code>Pie Chart</code> that highlights the breakdown of claims into whether Fraud was suspected or not and then whether it was confirmed or cleared following investigation. We will see later that there is a further dashboard dedicated to the area of suspected fraudulent claims.
<img alt="" src="../images/bai-scenario-walkthrough-bai7.png" /></p>
<p>We again use the set of <code>Gauges</code> that focus on the <code>Policy Cover</code> dimension.
<img alt="" src="../images/bai-scenario-walkthrough-bai8.png" /></p>
<p>In the bottom section of the dashboard we again see the <code>Data Tables</code> organised by <code>Vehicle Make</code> and again focussing on <code>Claim Settlement</code> data.
<img alt="" src="../images/bai-scenario-walkthrough-bai9.png" /></p>
<p>With the visualization named <code>Settlements by Driver Age</code> opened in full screen mode we highlight one of the bars and can see the underlying data, in this case it is reflecting the age profiles (in the emulation we deliberately allocate more claims to certain higher risk age groups).
<img alt="" src="../images/bai-scenario-walkthrough-bai10.png" /></p>
<p>Next we change to the dashboard named <code>Denim Compute - Suspected Fraudulent Auto Claims</code> (accessed by clicking on the <code>Suspected Fraudulent Auto Claims</code> breadcrumb).
<img alt="" src="../images/bai-scenario-walkthrough-bai12.png" /></p>
<p>It has a small subset of the <code>Visualizations</code> just to illustrate that we can look at similar data but filtered to the subset of data that involves potential and investigated fraud cases.
<img alt="" src="../images/bai-scenario-walkthrough-bai13.png" /></p>
<p>The dashboard is pre-configured with a filter that is disabled by default. This filter will allow us to find only those potential frauds that were confirmed by investigation.
<img alt="" src="../images/bai-scenario-walkthrough-bai14.png" /></p>
<p>So to enable this we hover over the filter where the options become visible, in this case we want the one to <code>Enable filter</code>.
<img alt="" src="../images/bai-scenario-walkthrough-bai15.png" /></p>
<p>The result is then dynamically updated in the dashboard and we can see in this example that of the 79 potential frauds in fact 20 were confirmed (and of course in that case the <code>Claim Settlement</code> figures are 0 as no payment is made for fraud cases).
<img alt="" src="../images/bai-scenario-walkthrough-bai16.png" /></p>
<p>We can also switch the filter to <code>Exclude matches</code> which in this case is looking for data on all potential frauds that were not proven 
<img alt="" src="../images/bai-scenario-walkthrough-bai17.png" /></p>
<p>Again the dashboard refreshes to take account of the changed filter and we see that 59 claims were not proven and in this case they do have payments made that are shown in the <code>Claim Settlement</code> figures.
<img alt="" src="../images/bai-scenario-walkthrough-bai18.png" /></p>
<p>Once the emulation batch of 500 instances have completed in <code>Denim Compute - Completed Auto Claims</code> we now notice that there is an anomaly with the maximum amounts. This is because the emulation logic deliberately throws an "outlier" case into every execution run so that we can highlight here in the dashboard. We also highlight below that the skewed figure is in the state of Florida.
<img alt="" src="../images/bai-scenario-walkthrough-bai19.png" /></p>
<p>If we select that state in the <code>Region Map</code> a dynamic filter is added and applied so that the dashboard now shows data just for that state.
<img alt="" src="../images/bai-scenario-walkthrough-bai20.png" /></p>
<p>We can also use <code>Exclude matches</code> as we saw before on this new filter and this allows us to examine the various dimensions without the false trends that the outlier case was contributing to.
<img alt="" src="../images/bai-scenario-walkthrough-bai21.png" /></p>
<p>Back in the <code>Discover</code> section and with the <code>Search</code> set to <code>Denim Compute - Auto Claims All Processes</code> we can filter for and examine the outlier case. By default a filter on the state of <code>FL</code> has been provided and disabled so you enable that and it should then show just that one outlier instance.<br />
<img alt="" src="../images/bai-scenario-walkthrough-bai22.png" /></p>
<p>You can then expand the twisty against the row and it will allow inspecting the data in a table or as raw JSON.
<img alt="" src="../images/bai-scenario-walkthrough-bai23.png" /></p>
<p>You now can see all the tracking data that was summarised into this process summary from the events sent to BAI from BAW. Take a look at some of the key data items and see if you can figure out what unusual set of circumstances led to this large claim and especially the high differential in damage amounts between the two vehicles involved. Also note that no fraud was suspected (see the highlighted tracking field below) even in such odd claim data, this is because the emulation uses random spreads of data and does not use any in depth intelligence in identifying and investigating fraud cases. In a later iteration, we will start infusing machine learning into this scenario in order to greatly improve this situation.
<img alt="" src="../images/bai-scenario-walkthrough-bai24.png" /></p>
<h2 id="scenario-installation">Scenario installation</h2>
<h3 id="prerequisites">Prerequisites</h3>
<p>You should have installed the Cloud Pak for Automation as instructed in the various installation guidance documents in the <a href="../../environment/rhos-intro/">OpenShift</a> environment section.</p>
<h3 id="baw-application-installation">BAW application installation</h3>
<ul>
<li>
<p>Install the application <a href="https://github.com/ibm-cloud-architecture/denim-compute/blob/master/solution/baw/auto-claims-emulation-bai.twx"><code>auto-claims-emulation-bai.twx</code></a> file into your environment (confirm that it is the version shown below or higher):
<img alt="" src="../images/bai-scenario-walkthrough-install1.png" /></p>
</li>
<li>
<p>Now you should have the exposed process that can be launched from <code>Process Portal</code> as shown below.
<img alt="" src="../images/bai-scenario-walkthrough-install2.png" /></p>
</li>
</ul>
<h3 id="bai-kibana-saved-objects-installation">BAI Kibana saved objects installation</h3>
<ul>
<li>
<p>In your BAI Kibana console navigate to <code>Management</code>, <code>Saved Objects</code> and click <code>Import</code>. 
<img alt="" src="../images/bai-scenario-walkthrough-install3.png" /></p>
</li>
<li>
<p>Select the saved index pattern definition downloaded from <a href="https://github.com/ibm-cloud-architecture/denim-compute/blob/master/solution/bai/dc-bai-custom-index-pattern.json"><code>dc-bai-custom-index-pattern.json</code></a> and click <code>Import</code>. This will import a custom index pattern especially for <code>Denim Compute</code> which is configured with formatting of data fields and includes scripted fields.
<img alt="" src="../images/bai-scenario-walkthrough-install4.png" /></p>
</li>
<li>
<p>When imported navigate to <code>Index Patterns</code> and select <code>process-s*</code> and verify that there are 3 <code>Scripted fields</code> (ignore the number against <code>Fields</code> which may be different in your environment).
<img alt="" src="../images/bai-scenario-walkthrough-install5.png" /></p>
</li>
<li>
<p>Repeat the previous steps to import the definitions downloaded from <a href="https://github.com/ibm-cloud-architecture/denim-compute/blob/master/solution/bai/dc-bai-dashboards-and-related.json"><code>dc-bai-dashboards-and-related.json</code></a>.
<img alt="" src="../images/bai-scenario-walkthrough-install6.png" /></p>
</li>
<li>
<p>Now when you filter against <code>Denim</code>, you should be able to see the imported objects (33 in total).
<img alt="" src="../images/bai-scenario-walkthrough-install7.png" /></p>
</li>
</ul>
<p>You now should have all you need to run the scenario as described earlier in this document.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../baca-scenario-walkthrough/" title="BACA scenario" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                BACA scenario
              </span>
            </div>
          </a>
        
        
          <a href="../../environment/rhos-intro/" title="Introduction" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Introduction
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>