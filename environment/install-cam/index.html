



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.0">
    
    
      
        <title>Installing CAM - Denim Compute - A Cloud Pak for Automation reference implementation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.0284f74d.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../extra.css">
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#introduction" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Denim Compute - A Cloud Pak for Automation reference implementation" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Denim Compute - A Cloud Pak for Automation reference implementation
            </span>
            <span class="md-header-nav__topic">
              
                Installing CAM
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/ibm-cloud-architecture/denim-compute/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Denim Compute - A Cloud Pak for Automation reference implementation" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Denim Compute - A Cloud Pak for Automation reference implementation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/ibm-cloud-architecture/denim-compute/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Use case
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Use case
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usecase/use-case-definition/" title="Use case definition" class="md-nav__link">
      Use case definition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usecase/resources/denim-compute-scenario-walkthrough.pdf" title="Scenario walkthrough" class="md-nav__link">
      Scenario walkthrough
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    
    <label class="md-nav__link" for="nav-3">
      Environment
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Environment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../create-vms/" title="Creating VMs" class="md-nav__link">
      Creating VMs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Platform install
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Platform install
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../install-icp/" title="IBM Cloud Private" class="md-nav__link">
      IBM Cloud Private
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-openshift/" title="RedHat OpenShift" class="md-nav__link">
      RedHat OpenShift
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Installing CAM
      </label>
    
    <a href="./" title="Installing CAM" class="md-nav__link md-nav__link--active">
      Installing CAM
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-cam-software" title="Load CAM software" class="md-nav__link">
    Load CAM software
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-software" title="Download software" class="md-nav__link">
    Download software
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-into-icp-and-docker" title="Log into ICP and Docker" class="md-nav__link">
    Log into ICP and Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-the-software-into-the-catalog" title="Load the software into the catalog" class="md-nav__link">
    Load the software into the catalog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-api-key" title="Generate API Key" class="md-nav__link">
    Generate API Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-pv-folders-in-nfs" title="Create PV folders in NFS" class="md-nav__link">
    Create PV folders in NFS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-cam" title="Install CAM" class="md-nav__link">
    Install CAM
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-persistent-volumes" title="Create persistent volumes" class="md-nav__link">
    Create persistent volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-interactively" title="Install interactively" class="md-nav__link">
    Install interactively
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installl-with-command-line" title="Installl with command line" class="md-nav__link">
    Installl with command line
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninstall" title="Uninstall" class="md-nav__link">
    Uninstall
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#purge-helm-release" title="Purge Helm Release" class="md-nav__link">
    Purge Helm Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-pv-and-pvc" title="Delete PV and PVC" class="md-nav__link">
    Delete PV and PVC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-pvs-nfs-folders" title="Clean PVs NFS folders" class="md-nav__link">
    Clean PVs NFS folders
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cam-bpd-ui-not-available" title="cam-bpd-ui not available" class="md-nav__link">
    cam-bpd-ui not available
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-baw/" title="Installing BAW" class="md-nav__link">
      Installing BAW
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../install-bai/" title="Installing BAI" class="md-nav__link">
      Installing BAI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../sundries/" title="Sundries" class="md-nav__link">
      Sundries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Design
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Design
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../design/workflow/" title="Workflow" class="md-nav__link">
      Workflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../design/decisions/" title="Decisions" class="md-nav__link">
      Decisions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../design/insights/" title="Insights" class="md-nav__link">
      Insights
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../design/sundries/" title="Sundries" class="md-nav__link">
      Sundries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-1" type="checkbox" id="nav-5-1">
    
    <label class="md-nav__link" for="nav-5-1">
      Workflow
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-1">
        Workflow
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/workflow-intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/process-flow-control/" title="Process flow control" class="md-nav__link">
      Process flow control
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/process-services/" title="Process services" class="md-nav__link">
      Process services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/process-user-interface/" title="Process user interface" class="md-nav__link">
      Process user interface
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/case-activities/" title="Case activities" class="md-nav__link">
      Case activities
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/case-user-interface/" title="Case user interface" class="md-nav__link">
      Case user interface
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/decisions/" title="Decisions" class="md-nav__link">
      Decisions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/sundries/" title="Sundries" class="md-nav__link">
      Sundries
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Showtime
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Showtime
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../showtime/deploy-solution/" title="Deploy" class="md-nav__link">
      Deploy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../showtime/run-solution/" title="Run" class="md-nav__link">
      Run
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../references/" title="References" class="md-nav__link">
      References
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduction" title="Introduction" class="md-nav__link">
    Introduction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#load-cam-software" title="Load CAM software" class="md-nav__link">
    Load CAM software
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#download-software" title="Download software" class="md-nav__link">
    Download software
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#log-into-icp-and-docker" title="Log into ICP and Docker" class="md-nav__link">
    Log into ICP and Docker
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#load-the-software-into-the-catalog" title="Load the software into the catalog" class="md-nav__link">
    Load the software into the catalog
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generate-api-key" title="Generate API Key" class="md-nav__link">
    Generate API Key
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-pv-folders-in-nfs" title="Create PV folders in NFS" class="md-nav__link">
    Create PV folders in NFS
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-cam" title="Install CAM" class="md-nav__link">
    Install CAM
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-persistent-volumes" title="Create persistent volumes" class="md-nav__link">
    Create persistent volumes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-interactively" title="Install interactively" class="md-nav__link">
    Install interactively
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installl-with-command-line" title="Installl with command line" class="md-nav__link">
    Installl with command line
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#uninstall" title="Uninstall" class="md-nav__link">
    Uninstall
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#purge-helm-release" title="Purge Helm Release" class="md-nav__link">
    Purge Helm Release
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-pv-and-pvc" title="Delete PV and PVC" class="md-nav__link">
    Delete PV and PVC
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clean-pvs-nfs-folders" title="Clean PVs NFS folders" class="md-nav__link">
    Clean PVs NFS folders
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#troubleshooting" title="Troubleshooting" class="md-nav__link">
    Troubleshooting
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cam-bpd-ui-not-available" title="cam-bpd-ui not available" class="md-nav__link">
    cam-bpd-ui not available
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/ibm-cloud-architecture/denim-compute/edit/master/docs/environment/install-cam.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>Installing CAM</h1>
                
                <h2 id="introduction">Introduction</h2>
<p>IBM Cloud Automation Manager (CAM) is a cloud management solution in IBM Cloud Private for deploying cloud infrastructure in multiple clouds with an optimized user experience. </p>
<p>Cloud Automation Manager uses open source Terraform to manage and deliver cloud infrastructure as code. Cloud infrastructure that is delivered as code is reusable, is able to be placed under version control, can be shared across distributed teams, and can be used to easily replicate environments.</p>
<p>In relation to the Cloud Pak, CAM is used to deploy IBM Business Automation Workflow (BAW) to traditional WebSphere nodes.</p>
<p>Eventually, IBM BAW will be deployed as containers which will mean that CAM would not be used in this case.</p>
<p>CAM will still be strategic for deploying any VM based offering. CAM will also soon support OpenShift. As long as there are WAS-ND based offerings, CAM will be used to deploy them.</p>
<p>Even after IBM BAW is delivered in containers, customers will still want to or need to use VM (WAS-ND) based versions if they: </p>
<ul>
<li>Are using IID/BPEL content, which is almost 50% of Workflow clients</li>
<li>They are dependent upon deprecated code which will be removed in the Container version of Workflow and can't yet refactor their apps. </li>
</ul>
<p>There are several steps to install CAM, described in the <a href="https://www.ibm.com/support/knowledgecenter/en/SS2L37_3.1.2.1/cam_install_offline_EE.html">IBM CAM Knowledge Center</a> documentation.</p>
<p>Notice that we did an offline installation as opposed to an online installation. The difference is that we will load the CAM software into our ICP catalog. Online installations download the CAM software from a public Docker registry.</p>
<h2 id="load-cam-software">Load CAM software</h2>
<h3 id="download-software">Download software</h3>
<p>First, download <a href="https://www-945.ibm.com/support/fixcentral/swg/selectFixes?parent=ibm~WebSphere&amp;product=ibm/WebSphere/IBM+Cloud+Private&amp;release=All&amp;platform=All&amp;function=fixId&amp;fixids=icp-cam-3.1.2-build520157&amp;includeSupersedes=0"><code>icp-cam-x86_64-3.1.2.1.tar.gz</code></a> from Fix Central.
Place the tar file into the directory <code>/download</code>s an a Master node:</p>
<pre><code>$ ls -l
total 10025452
-rw-r--r-- 1 root root 10266055420 May 31 20:22 icp-cam-x86_64-3.1.2.1.tar.gz
</code></pre>

<h3 id="log-into-icp-and-docker">Log into ICP and Docker</h3>
<pre><code>$ cloudctl login -a https://dbamc.icp:8443 --skip-ssl-validation -u admin -p admin -n services
Authenticating...
OK

Targeted account dbamc Account (id-dbamc-account)

Targeted namespace services

Configuring kubectl ...
Property &quot;clusters.dbamc&quot; unset.
Property &quot;users.dbamc-user&quot; unset.
Property &quot;contexts.dbamc-context&quot; unset.
Cluster &quot;dbamc&quot; set.
User &quot;dbamc-user&quot; set.
Context &quot;dbamc-context&quot; created.
Switched to context &quot;dbamc-context&quot;.
OK

Configuring helm: /root/.helm
OK
root@dbamc-icp-ubuntu-master3:/downloads# docker login dbamc.icp:8500
Authenticating with existing credentials...
WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credentials-store

Login Succeeded
</code></pre>

<h3 id="load-the-software-into-the-catalog">Load the software into the catalog</h3>
<pre><code>cloudctl catalog load-archive --archive /downloads/icp-cam-x86_64-3.1.2.1.tar.gz
</code></pre>

<h3 id="generate-api-key">Generate API Key</h3>
<p>You will need to generate an API key to install CAM because its required as one of the configuration parameters. Here are the commands to do this.</p>
<pre><code>export serviceIDName='service-deploy'
export serviceApiKeyName='service-deploy-api-key'
cloudctl login -a https://dbamc.icp:8443 --skip-ssl-validation -u admin -p admin -n services
cloudctl iam service-id-create ${serviceIDName} -d 'Service ID for service-deploy'
cloudctl iam service-policy-create ${serviceIDName} -r Administrator,ClusterAdministrator --service-name 'idmgmt'
cloudctl iam service-policy-create ${serviceIDName} -r Administrator,ClusterAdministrator --service-name 'identity'
cloudctl iam service-api-key-create ${serviceApiKeyName} ${serviceIDName} -d 'Api key for service-deploy'
</code></pre>

<p>The output is:</p>
<pre><code>Name          service-deploy-api-key   
Description   Api key for service-deploy   
Bound To      crn:v1:icp:private:iam-identity:dbamc:n/services::serviceid:ServiceId-bce5616f-b7b5-4d8c-9098-e7ffc61a7125   
Created At    2019-06-06T05:39+0000   
API Key       gWWji7Nf0qJCgSWOHAyzwCkD-86nRk7scPbuHz5Hp2Vw   
</code></pre>

<p>You need to save this API Key somewhere. You will never be able to view it again, and you will need it later as a parameter when installing CAM into ICP.</p>
<p>NOTE: One other thing that is happening when you run the above commands is that you are creating a Service ID for CAM. If you log into the ICP console, navigate to: Manage -&gt; Identity &amp; Access -&gt; Service IDs</p>
<p>And there you will see a Service ID called service-deploy.</p>
<h3 id="create-pv-folders-in-nfs">Create PV folders in NFS</h3>
<p>CAM needs multiple persistent volumes (PV) to be configured. The first thing you need to do is create directories that the Persistent Volumes will bind to. Most likely, you will create these directories on a shared server so that the directories can be shared by multiple instances of CAM.</p>
<ul>
<li>Via command line: login to the NFS server and execute:</li>
</ul>
<pre><code>export exportdir=/data/export

mkdir -p \
${exportdir}/CAM_db ${exportdir}/CAM_terraform/ \
cam-provider-terraform \
${exportdir}/CAM_logs/cam-provider-terraform \
${exportdir}/CAM_BPD_appdata/mysql \
${exportdir}/CAM_BPD_appdata/repositories \
${exportdir}/CAM_BPD_appdata/workspace

chmod -R 2775 ${exportdir}/CAM_db ${exportdir}/CAM_logs ${exportdir}/CAM_terraform ${exportdir}/CAM_BPD_appdata
chown -R root:1000 ${exportdir}/CAM_logs ${exportdir}/CAM_BPD_appdata
chown -R root:1111 ${exportdir}/CAM_terraform ${exportdir}/CAM_logs/cam-provider-terraform
chown -R 999:999 ${exportdir}/CAM_BPD_appdata/mysql ${exportdir}/CAM_db 
</code></pre>

<h2 id="install-cam">Install CAM</h2>
<h3 id="create-persistent-volumes">Create persistent volumes</h3>
<p>You can create the PVs in the ICP console or via Kubernetes commands. Make sure you set the server and path attributes to match your environment.</p>
<ul>
<li>
<p>Log into the boot node</p>
</li>
<li>
<p>Authenticate to ICP from the command line:</p>
</li>
</ul>
<pre><code>cloudctl login -a https://dbamc.icp:8443 --skip-ssl-validation -u admin -p admin -n services
</code></pre>

<ul>
<li>Kubernetes command for <code>cam-mongo-pv</code></li>
</ul>
<pre><code>kubectl create -f - &lt;&lt;EOF
&quot;kind&quot;: &quot;PersistentVolume&quot;
&quot;apiVersion&quot;: &quot;v1&quot;
&quot;metadata&quot;:
  &quot;name&quot;: &quot;cam-mongo-pv&quot;
  &quot;labels&quot;:
    &quot;type&quot;: &quot;cam-mongo&quot;
&quot;spec&quot;:
  &quot;capacity&quot;:
    &quot;storage&quot;: &quot;15Gi&quot;
  &quot;accessModes&quot;:
     - &quot;ReadWriteMany&quot;
  &quot;nfs&quot;:
    &quot;server&quot;: &quot;172.16.52.212&quot;
    &quot;path&quot;: &quot;/data/export/CAM_db&quot;
EOF
</code></pre>

<ul>
<li>Kubernetes command for <code>cam-logs-pv</code></li>
</ul>
<pre><code>kubectl create -f - &lt;&lt;EOF
&quot;kind&quot;: &quot;PersistentVolume&quot;
&quot;apiVersion&quot;: &quot;v1&quot;
&quot;metadata&quot;:
  &quot;name&quot;: &quot;cam-logs-pv&quot;
  &quot;labels&quot;:
    &quot;type&quot;: &quot;cam-logs&quot;
&quot;spec&quot;:
  &quot;capacity&quot;:
    &quot;storage&quot;: &quot;10Gi&quot;
  &quot;accessModes&quot;:
    - &quot;ReadWriteMany&quot;
  &quot;nfs&quot;:
    &quot;server&quot;: &quot;172.16.52.212&quot;
    &quot;path&quot;: &quot;/data/export/CAM_logs&quot;
EOF
</code></pre>

<ul>
<li>Kubernetes command for <code>cam-terraform-pv</code></li>
</ul>
<pre><code>kubectl create -f - &lt;&lt;EOF
&quot;kind&quot;: &quot;PersistentVolume&quot;
&quot;apiVersion&quot;: &quot;v1&quot;
&quot;metadata&quot;:
  &quot;name&quot;: &quot;cam-terraform-pv&quot;
  &quot;labels&quot;:
    &quot;type&quot;: &quot;cam-terraform&quot;
&quot;spec&quot;:
  &quot;capacity&quot;:
    &quot;storage&quot;: &quot;15Gi&quot;
  &quot;accessModes&quot;:
    - &quot;ReadWriteMany&quot;
  &quot;nfs&quot;:
    &quot;server&quot;: &quot;172.16.52.212&quot;
    &quot;path&quot;: &quot;/data/export/CAM_terraform&quot;
EOF
</code></pre>

<ul>
<li>Kubernetes command for <code>cam-bpd-appdata-pv</code></li>
</ul>
<pre><code>kubectl create -f - &lt;&lt;EOF
&quot;kind&quot;: &quot;PersistentVolume&quot;
&quot;apiVersion&quot;: &quot;v1&quot;
&quot;metadata&quot;:
  &quot;name&quot;: &quot;cam-bpd-appdata-pv&quot;
  &quot;labels&quot;:
    &quot;type&quot;: &quot;cam-bpd-appdata&quot;
&quot;spec&quot;:
  &quot;capacity&quot;:
    &quot;storage&quot;: &quot;20Gi&quot;
  &quot;accessModes&quot;:
    - &quot;ReadWriteMany&quot;
  &quot;nfs&quot;:
    &quot;server&quot;: &quot;172.16.52.212&quot;
    &quot;path&quot;: &quot;/data/export/CAM_BPD_appdata&quot;
EOF
</code></pre>

<h3 id="install-interactively">Install interactively</h3>
<ul>
<li>Log into the ICP Console and navigate to  Manage -&gt; Helm Repositories:</li>
</ul>
<p><img alt="" src="../images/100-CAM-Helm-Repository.png" /></p>
<ul>
<li>Click Sync Repositories on the right:</li>
</ul>
<p><img alt="" src="../images/101-CAM-Helm-Repository.png" /></p>
<ul>
<li>
<p>Again, on ICP home page, select catalog in the upper-right hand side.</p>
</li>
<li>
<p>Using the search bar, search for CAM.</p>
</li>
<li>
<p>Select the <code>ibm-cam</code> Helm Chart from the local-charts repository (there will be two ibm-cam icons, one for the online version and one for the local version that you installed above. Pick the local version.)</p>
</li>
</ul>
<p><img alt="" src="../images/102-CAM-Helm-Chart.png" /></p>
<ul>
<li>Click the Configuration tab and use the following settings:</li>
</ul>
<p>Helm release name: <code>cam</code>
Target namespace: <code>services</code>
Check the license agreement
IAM service API key: use the key copied in task above.</p>
<ul>
<li>
<p>Click Install</p>
</li>
<li>
<p>Check the status of the deployment from the command line:</p>
</li>
</ul>
<pre><code>kubectl get po -n services
</code></pre>

<h3 id="installl-with-command-line">Installl with command line</h3>
<p>You can also install the helm chart via the command line.</p>
<ul>
<li>Download the Helm chart</li>
</ul>
<pre><code>curl -kLo /root/cam/ibm-cam-3.1.3.tgz https://dbamc.icp:8443/helm-repo/requiredAssets/ibm-cam-3.1.3.tgz
</code></pre>

<ul>
<li>Install CAM Helm chart</li>
</ul>
<pre><code>helm install /root/cam/ibm-cam-3.1.3.tgz --name cam --namespace services --set license=accept,global.iam.deployApiKey=gWWji7Nf0qJCgSWOHAyzwCkD-86nRk7scPbuHz5Hp2Vw,image.repository=dbamc.icp:8500/services/,auditService.image.repository=dbamc.icp:8500/ibmcom/ --tls
</code></pre>

<h2 id="uninstall">Uninstall</h2>
<h4 id="purge-helm-release">Purge Helm Release</h4>
<pre><code>kubectl delete clusterservicebrokers.servicecatalog.k8s.io cam-broker
helm del cam --purge --tls
kubectl delete pod --grace-period=0 --force --namespace services -l release=cam
kubectl delete secret cam-docker-secret -n services
</code></pre>

<h4 id="delete-pv-and-pvc">Delete PV and PVC</h4>
<pre><code>kubectl delete PersistentVolumeClaim cam-terraform-pv -n services
kubectl delete PersistentVolumeClaim cam-bpd-appdata-pv -n services
kubectl delete PersistentVolumeClaim cam-logs-pv -n services
kubectl delete PersistentVolumeClaim cam-mongo-pv -n services

cd /root/cam
kubectl delete -f pv.yaml
</code></pre>

<h4 id="clean-pvs-nfs-folders">Clean PVs NFS folders</h4>
<pre><code>ssh nfs
rm -Rf /data/export/CAM_db/*
</code></pre>

<h2 id="troubleshooting">Troubleshooting</h2>
<h4 id="cam-bpd-ui-not-available"><code>cam-bpd-ui</code> not available</h4>
<p>See <a href="https://www.ibm.com/support/knowledgecenter/en/SS2L37_3.1.2.1/ts_cam_install.html">this</a> documentation reference</p>
<pre><code># Get into the MariaDB pod
kubectl exec -it -n services cam-bpd-mariadb-d84b5b9d8-lpdg7 -- bash

#  Get the MariaDB root password
env | grep MYSQL_ROOT_PASSWORD

# Run the mysql command line tool
mysql -u root -p &lt;password_found_above&gt;  
# for example: mysql -u root -pbcb19ee3dee0
# you might only need mysql without any credentials

# Show the databases
show databases;

# Verify database ibm_ucdp exists. If it does, then
use ibm_ucdp;
show tables;

# Verify there are many tables (should show around 61)

# Verify the user &quot;ucdpadmin&quot; exists

SELECT User,Host FROM mysql.user;

drop database ibm_ucdp;

CREATE DATABASE ibm_ucdp;
CREATE USER 'ucdpadmin'@'%' IDENTIFIED BY 'bcb19ee3dee0';
GRANT ALL ON ibm_ucdp.* TO 'ucdpadmin'@'%' ;
FLUSH PRIVILEGES;

kubectl delete pod cam-bpd-ui-77dd68957f-jxvb8 -n services
</code></pre>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../install-openshift/" title="RedHat OpenShift" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                RedHat OpenShift
              </span>
            </div>
          </a>
        
        
          <a href="../install-baw/" title="Installing BAW" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Installing BAW
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.245445c6.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
    
  </body>
</html>